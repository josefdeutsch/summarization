Agent A — Takeaway Curator
Core Eval Suite (10 Cases)

| Case ID | Scenario                                                                                                   | What It Tests (Technical Meaning)                                                               | Expected Behaviour (Precise)                                                                                                                            |
| ------- | ---------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **A.1** | Run Curator on one uploaded book with a general instruction (e.g. “Extract main takeaways from the book”). | Verifies FileSearch integration works inside Evals and that the output schema is machine-valid. | Output is valid JSON, contains 4–8 takeaways, each takeaway contains all required fields, and `approx_page_range` follows expected format.              |
| **A.2** | Run exactly the same instruction on the same book again.                                                   | Tests structural determinism and absence of schema drift between runs.                          | Output structure remains identical (schema unchanged, same field names, same count range). Minor content variation allowed, but format must not change. |

| Case ID  | Scenario                                                                             | What It Tests (Technical Meaning)                                                                   | Expected Behaviour (Precise)                                                                                                           |
| -------- | ------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| **A.3**  | Run Curator on entire book with broad instruction.                                   | Baseline selection quality and clustering without artificial constraints.                           | Takeaways reflect major conceptual themes; `approx_page_range` values are reasonably narrow and not spanning the majority of the book. |
| **A.4**  | Instruction explicitly restricts scope to a single chapter.                          | Whether Curator respects scoped retrieval and avoids cross-chapter clustering.                      | All `approx_page_range` values fall primarily within the specified chapter’s page interval.                                            |
| **A.5**  | Instruction restricts to a specific page band (e.g. p80–120).                        | Whether Curator obeys explicit numeric scope constraints.                                           | Takeaways reference page ranges mostly inside the requested interval; no large out-of-band clustering.                                 |
| **A.6**  | Book known to contain clearly separated conceptual clusters in distant page regions. | Ability to detect and separate distinct clusters rather than merging them.                          | Each takeaway corresponds to a local conceptual region; no single takeaway spans widely separated distant sections.                    |
| **A.7**  | Book with predominantly motivational or narrative content.                           | Non-triviality filter: ability to avoid generic advice extraction.                                  | Takeaways describe structured ideas, mechanisms, or arguments; avoids platitudes like “work hard” or “believe in yourself.”            |
| **A.8**  | Technical or structured nonfiction book.                                             | Ability to extract mechanisms, frameworks, or conceptual distinctions instead of surface summaries. | Takeaways describe structured concepts, models, or defined mechanisms; not vague topic labels.                                         |
| **A.9**  | Same book and same instruction run again (third run).                                | Output stability in dynamic retrieval environment.                                                  | Page ranges and core concepts remain broadly consistent; no extreme drift or radically different clusters.                             |
| **A.10** | Slightly reworded instruction with same meaning.                                     | Sensitivity to minor prompt phrasing changes.                                                       | Structural output remains consistent; clustering principle still respected; no collapse into trivial takeaways.                        |
